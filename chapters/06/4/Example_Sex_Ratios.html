
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Example: Sex Ratios &#8212; Programming for...</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" href="../../../_static/styles/sphinx-book-theme.css?digest=62ba249389abaaa9ffc34bf36a076bdc1d65ee18" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/book.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js?digest=f31d14ad54b65d19161ba51d4ffff3a77ae00456"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../../_static/sphinx-thebe.js"></script>
    <link rel="canonical" href="https://inferentialthinking.org/chapters/06/4/Example_Sex_Ratios.html" />
    <link rel="shortcut icon" href="../../../_static/favicon.png"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
<script async="" src="https://www.google-analytics.com/analytics.js"></script>
<script>
                        window.ga = window.ga || function () {
                            (ga.q = ga.q || []).push(arguments) };
                        ga.l = +new Date;
                        ga('create', 'UA-148221575-1', 'auto');
                        ga('set', 'anonymizeIp', true);
                        ga('send', 'pageview');
                    </script>

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../../_static/favicon.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Programming for...</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../notebooks/Exercise0-basics_dynamic.html">
   1. Some python essentials to get you started
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../notebooks/Exercise1-square.html">
   3. Exrcise 1 - a square
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/data-8/textbook/main?urlpath=tree/chapters/06/4/Example_Sex_Ratios.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../../../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
      <li>
        <a href="https://datahub.berkeley.edu/hub/user-redirect/git-pull?repo=https://github.com/data-8/textbook&urlpath=tree/textbook/chapters/06/4/Example_Sex_Ratios.ipynb&branch=main"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on JupyterHub"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../../../_static/images/logo_jupyterhub.svg">
  </span>
<span class="headerbtn__text-container">JupyterHub</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>
<a href="https://github.com/data-8/textbook"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="bottom"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../../../_sources/chapters/06/4/Example_Sex_Ratios.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-code-used-in-the-sex-column">
   The Code Used in the
   <code class="docutils literal notranslate">
    <span class="pre">
     SEX
    </span>
   </code>
   Column
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#overall-proportions">
   Overall Proportions
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#proportions-among-infants">
   Proportions Among Infants
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#sex-ratio-at-each-age">
   Sex Ratio at Each Age
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Example: Sex Ratios</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-code-used-in-the-sex-column">
   The Code Used in the
   <code class="docutils literal notranslate">
    <span class="pre">
     SEX
    </span>
   </code>
   Column
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#overall-proportions">
   Overall Proportions
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#proportions-among-infants">
   Proportions Among Infants
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#sex-ratio-at-each-age">
   Sex Ratio at Each Age
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <div class="cell tag_remove-input docutils container">
</div>
<div class="cell tag_remove-input docutils container">
</div>
<section class="tex2jax_ignore mathjax_ignore" id="example-sex-ratios">
<h1>Example: Sex Ratios<a class="headerlink" href="#example-sex-ratios" title="Permalink to this headline">#</a></h1>
<p>In this section we will continue using the <code class="docutils literal notranslate"><span class="pre">us_pop</span></code> table from the previous section. But this time we will focus on population trends in relation to the <code class="docutils literal notranslate"><span class="pre">SEX</span></code> column.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">us_pop</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table border="1" class="dataframe">
    <thead>
        <tr>
            <th>SEX</th> <th>AGE</th> <th>2014</th> <th>2019</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>0   </td> <td>0   </td> <td>3954787</td> <td>3783052</td>
        </tr>
        <tr>
            <td>0   </td> <td>1   </td> <td>3948891</td> <td>3829599</td>
        </tr>
        <tr>
            <td>0   </td> <td>2   </td> <td>3958711</td> <td>3922044</td>
        </tr>
        <tr>
            <td>0   </td> <td>3   </td> <td>4005928</td> <td>3998665</td>
        </tr>
        <tr>
            <td>0   </td> <td>4   </td> <td>4004032</td> <td>4043323</td>
        </tr>
        <tr>
            <td>0   </td> <td>5   </td> <td>4004576</td> <td>4028281</td>
        </tr>
        <tr>
            <td>0   </td> <td>6   </td> <td>4133372</td> <td>4017227</td>
        </tr>
        <tr>
            <td>0   </td> <td>7   </td> <td>4152666</td> <td>4022319</td>
        </tr>
        <tr>
            <td>0   </td> <td>8   </td> <td>4118349</td> <td>4066194</td>
        </tr>
        <tr>
            <td>0   </td> <td>9   </td> <td>4106068</td> <td>4061874</td>
        </tr>
    </tbody>
</table>
<p>... (296 rows omitted)</p></div></div>
</div>
<section id="the-code-used-in-the-sex-column">
<h2>The Code Used in the <code class="docutils literal notranslate"><span class="pre">SEX</span></code> Column<a class="headerlink" href="#the-code-used-in-the-sex-column" title="Permalink to this headline">#</a></h2>
<p>The contents of the <code class="docutils literal notranslate"><span class="pre">AGE</span></code>, <code class="docutils literal notranslate"><span class="pre">2014</span></code>, and <code class="docutils literal notranslate"><span class="pre">2019</span></code> columns are straightforward to understand. The <code class="docutils literal notranslate"><span class="pre">AGE</span></code> column contains ages in completed years. The special value <code class="docutils literal notranslate"><span class="pre">999</span></code> represents the entire population regardless of age, and <code class="docutils literal notranslate"><span class="pre">100</span></code> represents “100 or more”. The <code class="docutils literal notranslate"><span class="pre">2014</span></code> and <code class="docutils literal notranslate"><span class="pre">2019</span></code> columns contain estimates of the US population in each of the two years.</p>
<p>The SEX column, however, is more difficult to interpret.</p>
<p>The Census form asks respondents to provide the sex of each household member by checking one of two boxes labeled Male and Female. The <code class="docutils literal notranslate"><span class="pre">SEX</span></code> column contains numeric codes: <code class="docutils literal notranslate"><span class="pre">1</span></code> for male, <code class="docutils literal notranslate"><span class="pre">2</span></code> for female, and <code class="docutils literal notranslate"><span class="pre">0</span></code> for the total.</p>
<p>This question has been asked in essentially the same way since 1790. But since then there has been considerable <a class="reference external" href="https://pubmed.ncbi.nlm.nih.gov/11534012/">research</a> on whether the sex of human beings lends itself to simple binary categorization. For example, nonbinary people do not identify exclusively as male or female. A <a class="reference external" href="https://williamsinstitute.law.ucla.edu/publications/nonbinary-lgbtq-adults-us/">study</a> by the Williams Institute at the UCLA School of Law in 2021 estimated that at least 1.2 million individuals in the United States identify as nonbinary.</p>
<p>By continuing to use the historical form of the question, the Census fails to reflect the complexity of sex classification. The <a class="reference external" href="https://www2.census.gov/programs-surveys/decennial/2020/partners/outreach-materials/handouts/why-we-ask-the-sex-question.pdf">explanation</a> provided in the 2020 Census and reproduced in the quotation below does not include instructions for those who do not identify as one of Male or Female.</p>
<blockquote>
<div><p><strong>Responding to the sex question is easy.</strong></p>
<p>A question on sex has been included since the first census in 1790. All 2020 Census questions that involve personal characteristics are based on self-identification. When you complete your census, select the box for the biological sex you identify with.</p>
</div></blockquote>
<p>Regardless of the opinion expressed above, responding to this question isn’t easy for everyone. Difficulties with answering the question can lead to non-response or inaccurate responses. This can reduce the accuracy of Census data for informing policy decisions and allocating resources.</p>
<p>Before the 2020 Census, the Census Bureau considered revising this question or including broader questions about sexual orientation and gender identity. In the end the Bureau decided <a class="reference external" href="https://www.census.gov/newsroom/blogs/director/2017/03/planned_subjects_2020.html">not to change</a> the planned Census.</p>
<p>However, Census Director John Thompson wrote, “The Census Bureau remains committed to reflecting the information needs of our changing society.” Census forms do change. For example, <a class="reference external" href="https://www.census.gov/library/stories/2021/08/improved-race-ethnicity-measures-reveal-united-states-population-much-more-multiracial.html">new questions on race and ethnicity</a> in the 2020 Census have led to a more accurate understanding of US demographics. We can hope that the 2030 Census will be more inclusive and accurate in all respects.</p>
<p>In what follows, we will use the data provided by the Census keeping in mind the issues described above. We will use the term “male” to mean an individual for whom “Male” (<code class="docutils literal notranslate"><span class="pre">SEX</span></code> code 1) was selected on the Census form. We will use “female” to mean an individual for whom “Female” (<code class="docutils literal notranslate"><span class="pre">SEX</span></code>code 2) was selected.</p>
</section>
<section id="overall-proportions">
<h2>Overall Proportions<a class="headerlink" href="#overall-proportions" title="Permalink to this headline">#</a></h2>
<p>We will now begin looking at sex ratios in 2019. First, let’s look at all the age groups together. Remember that this means looking at the rows where the “age” is coded 999. The table <code class="docutils literal notranslate"><span class="pre">all_ages</span></code> contains this information. There are three rows: one for the total population, one for males, and one for females.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">us_pop_2019</span> <span class="o">=</span> <span class="n">us_pop</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;2014&#39;</span><span class="p">)</span>
<span class="n">all_ages</span> <span class="o">=</span> <span class="n">us_pop_2019</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="s1">&#39;AGE&#39;</span><span class="p">,</span> <span class="n">are</span><span class="o">.</span><span class="n">equal_to</span><span class="p">(</span><span class="mi">999</span><span class="p">))</span>
<span class="n">all_ages</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table border="1" class="dataframe">
    <thead>
        <tr>
            <th>SEX</th> <th>AGE</th> <th>2019</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>0   </td> <td>999 </td> <td>328239523</td>
        </tr>
        <tr>
            <td>1   </td> <td>999 </td> <td>161657324</td>
        </tr>
        <tr>
            <td>2   </td> <td>999 </td> <td>166582199</td>
        </tr>
    </tbody>
</table></div></div>
</div>
<p>Row 0 of <code class="docutils literal notranslate"><span class="pre">all_ages</span></code> contains the total U.S. population in each of the two years. The United States had about 330 million people in 2019.</p>
<p>Row 1 contains the counts for males and Row 2 for females. Compare these two rows to see that in 2019, there were more females than males in the United States.</p>
<p>The population counts in Row 1 and Row 2 add up to the total population in Row 0.</p>
<p>For comparability with other quantities, we will need to convert these counts to percents out of the total population. Let’s access the total for 2019 and name it. Then, we’ll show a population table with a proportion column. Consistent with our earlier observation that there were more females than males, 50.75% of the population in 2019 was female and about 49.25% was male.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pop_2019</span> <span class="o">=</span> <span class="n">all_ages</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="s1">&#39;2019&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">all_ages</span><span class="o">.</span><span class="n">with_column</span><span class="p">(</span>
    <span class="s1">&#39;Proportion&#39;</span><span class="p">,</span> <span class="n">all_ages</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="s1">&#39;2019&#39;</span><span class="p">)</span><span class="o">/</span><span class="n">pop_2019</span>
<span class="p">)</span><span class="o">.</span><span class="n">set_format</span><span class="p">(</span><span class="s1">&#39;Proportion&#39;</span><span class="p">,</span> <span class="n">PercentFormatter</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table border="1" class="dataframe">
    <thead>
        <tr>
            <th>SEX</th> <th>AGE</th> <th>2019</th> <th>Proportion</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>0   </td> <td>999 </td> <td>328239523</td> <td>100.00%   </td>
        </tr>
        <tr>
            <td>1   </td> <td>999 </td> <td>161657324</td> <td>49.25%    </td>
        </tr>
        <tr>
            <td>2   </td> <td>999 </td> <td>166582199</td> <td>50.75%    </td>
        </tr>
    </tbody>
</table></div></div>
</div>
</section>
<section id="proportions-among-infants">
<h2>Proportions Among Infants<a class="headerlink" href="#proportions-among-infants" title="Permalink to this headline">#</a></h2>
<p>When we look at infants, however, the opposite is true. Let’s define infants to be babies who have not yet completed one year, represented in the rows corresponding to <code class="docutils literal notranslate"><span class="pre">AGE</span></code> 0. Here are their numbers in the population. You can see that male infants outnumbered female infants.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">infants</span> <span class="o">=</span> <span class="n">us_pop_2019</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="s1">&#39;AGE&#39;</span><span class="p">,</span> <span class="n">are</span><span class="o">.</span><span class="n">equal_to</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="n">infants</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table border="1" class="dataframe">
    <thead>
        <tr>
            <th>SEX</th> <th>AGE</th> <th>2019</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>0   </td> <td>0   </td> <td>3783052</td>
        </tr>
        <tr>
            <td>1   </td> <td>0   </td> <td>1935117</td>
        </tr>
        <tr>
            <td>2   </td> <td>0   </td> <td>1847935</td>
        </tr>
    </tbody>
</table></div></div>
</div>
<p>As before, we can convert these counts to percents out of the total numbers of infants. The resulting table shows that in 2019, just over 51% of infants in the U.S. were male.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">infants_2019</span> <span class="o">=</span> <span class="n">infants</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="s1">&#39;2019&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">infants</span><span class="o">.</span><span class="n">with_column</span><span class="p">(</span>
    <span class="s1">&#39;Proportion&#39;</span><span class="p">,</span> <span class="n">infants</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="s1">&#39;2019&#39;</span><span class="p">)</span><span class="o">/</span><span class="n">infants_2019</span>
<span class="p">)</span><span class="o">.</span><span class="n">set_format</span><span class="p">(</span><span class="s1">&#39;Proportion&#39;</span><span class="p">,</span> <span class="n">PercentFormatter</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table border="1" class="dataframe">
    <thead>
        <tr>
            <th>SEX</th> <th>AGE</th> <th>2019</th> <th>Proportion</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>0   </td> <td>0   </td> <td>3783052</td> <td>100.00%   </td>
        </tr>
        <tr>
            <td>1   </td> <td>0   </td> <td>1935117</td> <td>51.15%    </td>
        </tr>
        <tr>
            <td>2   </td> <td>0   </td> <td>1847935</td> <td>48.85%    </td>
        </tr>
    </tbody>
</table></div></div>
</div>
<p>In fact, it has long been observed that the proportion of males among newborns is slightly more than 1/2. The reason for this is not thoroughly understood, and <a class="reference external" href="http://www.npr.org/sections/health-shots/2015/03/30/396384911/why-are-more-baby-boys-born-than-girls">scientists are still working on it</a>.</p>
</section>
<section id="sex-ratio-at-each-age">
<h2>Sex Ratio at Each Age<a class="headerlink" href="#sex-ratio-at-each-age" title="Permalink to this headline">#</a></h2>
<p>We have seen that while there are more male infants than female, there are more females than males in the population overall. That means the split between sexes must vary across age groups.</p>
<p>To study this variation, we will separate out the data for the females and the males, and eliminate the row where all the ages are aggregated and <code class="docutils literal notranslate"><span class="pre">AGE</span></code> is coded as 999.</p>
<p>The tables <code class="docutils literal notranslate"><span class="pre">females</span></code> and <code class="docutils literal notranslate"><span class="pre">males</span></code> contain the data for each the two sex codes.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">females_all_rows</span> <span class="o">=</span> <span class="n">us_pop_2019</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="s1">&#39;SEX&#39;</span><span class="p">,</span> <span class="n">are</span><span class="o">.</span><span class="n">equal_to</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="n">females</span> <span class="o">=</span> <span class="n">females_all_rows</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="s1">&#39;AGE&#39;</span><span class="p">,</span> <span class="n">are</span><span class="o">.</span><span class="n">not_equal_to</span><span class="p">(</span><span class="mi">999</span><span class="p">))</span>
<span class="n">females</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table border="1" class="dataframe">
    <thead>
        <tr>
            <th>SEX</th> <th>AGE</th> <th>2019</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>2   </td> <td>0   </td> <td>1847935</td>
        </tr>
        <tr>
            <td>2   </td> <td>1   </td> <td>1871014</td>
        </tr>
        <tr>
            <td>2   </td> <td>2   </td> <td>1916500</td>
        </tr>
        <tr>
            <td>2   </td> <td>3   </td> <td>1955655</td>
        </tr>
        <tr>
            <td>2   </td> <td>4   </td> <td>1976372</td>
        </tr>
        <tr>
            <td>2   </td> <td>5   </td> <td>1967081</td>
        </tr>
        <tr>
            <td>2   </td> <td>6   </td> <td>1964271</td>
        </tr>
        <tr>
            <td>2   </td> <td>7   </td> <td>1966584</td>
        </tr>
        <tr>
            <td>2   </td> <td>8   </td> <td>1986471</td>
        </tr>
        <tr>
            <td>2   </td> <td>9   </td> <td>1988726</td>
        </tr>
    </tbody>
</table>
<p>... (91 rows omitted)</p></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">males_all_rows</span> <span class="o">=</span> <span class="n">us_pop_2019</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="s1">&#39;SEX&#39;</span><span class="p">,</span> <span class="n">are</span><span class="o">.</span><span class="n">equal_to</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="n">males</span> <span class="o">=</span> <span class="n">males_all_rows</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="s1">&#39;AGE&#39;</span><span class="p">,</span> <span class="n">are</span><span class="o">.</span><span class="n">not_equal_to</span><span class="p">(</span><span class="mi">999</span><span class="p">))</span>
<span class="n">males</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table border="1" class="dataframe">
    <thead>
        <tr>
            <th>SEX</th> <th>AGE</th> <th>2019</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>1   </td> <td>0   </td> <td>1935117</td>
        </tr>
        <tr>
            <td>1   </td> <td>1   </td> <td>1958585</td>
        </tr>
        <tr>
            <td>1   </td> <td>2   </td> <td>2005544</td>
        </tr>
        <tr>
            <td>1   </td> <td>3   </td> <td>2043010</td>
        </tr>
        <tr>
            <td>1   </td> <td>4   </td> <td>2066951</td>
        </tr>
        <tr>
            <td>1   </td> <td>5   </td> <td>2061200</td>
        </tr>
        <tr>
            <td>1   </td> <td>6   </td> <td>2052956</td>
        </tr>
        <tr>
            <td>1   </td> <td>7   </td> <td>2055735</td>
        </tr>
        <tr>
            <td>1   </td> <td>8   </td> <td>2079723</td>
        </tr>
        <tr>
            <td>1   </td> <td>9   </td> <td>2073148</td>
        </tr>
    </tbody>
</table>
<p>... (91 rows omitted)</p></div></div>
</div>
<p>The plan now is to compare the number of females and the number of males at each age, for each of the two years. Array and Table methods give us straightforward ways to do this. Both these tables have one row for each age.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">males</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="s1">&#39;AGE&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([  0,   1,   2,   3,   4,   5,   6,   7,   8,   9,  10,  11,  12,
        13,  14,  15,  16,  17,  18,  19,  20,  21,  22,  23,  24,  25,
        26,  27,  28,  29,  30,  31,  32,  33,  34,  35,  36,  37,  38,
        39,  40,  41,  42,  43,  44,  45,  46,  47,  48,  49,  50,  51,
        52,  53,  54,  55,  56,  57,  58,  59,  60,  61,  62,  63,  64,
        65,  66,  67,  68,  69,  70,  71,  72,  73,  74,  75,  76,  77,
        78,  79,  80,  81,  82,  83,  84,  85,  86,  87,  88,  89,  90,
        91,  92,  93,  94,  95,  96,  97,  98,  99, 100])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">females</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="s1">&#39;AGE&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([  0,   1,   2,   3,   4,   5,   6,   7,   8,   9,  10,  11,  12,
        13,  14,  15,  16,  17,  18,  19,  20,  21,  22,  23,  24,  25,
        26,  27,  28,  29,  30,  31,  32,  33,  34,  35,  36,  37,  38,
        39,  40,  41,  42,  43,  44,  45,  46,  47,  48,  49,  50,  51,
        52,  53,  54,  55,  56,  57,  58,  59,  60,  61,  62,  63,  64,
        65,  66,  67,  68,  69,  70,  71,  72,  73,  74,  75,  76,  77,
        78,  79,  80,  81,  82,  83,  84,  85,  86,  87,  88,  89,  90,
        91,  92,  93,  94,  95,  96,  97,  98,  99, 100])
</pre></div>
</div>
</div>
</div>
<p>For any given age, we can get the Female:Male sex ratio by dividing the number of females by the number of males.</p>
<p>To do this in one step, we can use <code class="docutils literal notranslate"><span class="pre">column</span></code> to extract the array of female counts and the corresponding array of male counts, and then simply divide one array by the other. Elementwise division will create an array of sex ratios for all the years.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ratios</span> <span class="o">=</span> <span class="n">Table</span><span class="p">()</span><span class="o">.</span><span class="n">with_columns</span><span class="p">(</span>
    <span class="s1">&#39;AGE&#39;</span><span class="p">,</span> <span class="n">females</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="s1">&#39;AGE&#39;</span><span class="p">),</span>
    <span class="s1">&#39;2019 F:M RATIO&#39;</span><span class="p">,</span> <span class="n">females</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="s1">&#39;2019&#39;</span><span class="p">)</span><span class="o">/</span><span class="n">males</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="s1">&#39;2019&#39;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">ratios</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table border="1" class="dataframe">
    <thead>
        <tr>
            <th>AGE</th> <th>2019 F:M RATIO</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>0   </td> <td>0.954947      </td>
        </tr>
        <tr>
            <td>1   </td> <td>0.955289      </td>
        </tr>
        <tr>
            <td>2   </td> <td>0.955601      </td>
        </tr>
        <tr>
            <td>3   </td> <td>0.957242      </td>
        </tr>
        <tr>
            <td>4   </td> <td>0.956177      </td>
        </tr>
        <tr>
            <td>5   </td> <td>0.954338      </td>
        </tr>
        <tr>
            <td>6   </td> <td>0.956801      </td>
        </tr>
        <tr>
            <td>7   </td> <td>0.956633      </td>
        </tr>
        <tr>
            <td>8   </td> <td>0.955161      </td>
        </tr>
        <tr>
            <td>9   </td> <td>0.959278      </td>
        </tr>
    </tbody>
</table>
<p>... (91 rows omitted)</p></div></div>
</div>
<p>You can see from the display that the ratios are all around 0.96 for children aged nine or younger. When the Female:Male ratio is less than 1, there are fewer females than males. Thus we are seeing that there were fewer girls than boys in each of the age groups 0, 1, 2, and so on through 9. More precisely, in each of these age groups there were about 96 girls for every 100 boys.</p>
<p>Then how can the overall proportion of females in the population be higher than the males?</p>
<p>Something quite different happens when we examine the other end of the age range. Here are the Female:Male ratios for people aged more than 75.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ratios</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="s1">&#39;AGE&#39;</span><span class="p">,</span> <span class="n">are</span><span class="o">.</span><span class="n">above</span><span class="p">(</span><span class="mi">75</span><span class="p">))</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table border="1" class="dataframe">
    <thead>
        <tr>
            <th>AGE</th> <th>2019 F:M RATIO</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>76  </td> <td>1.21422       </td>
        </tr>
        <tr>
            <td>77  </td> <td>1.23558       </td>
        </tr>
        <tr>
            <td>78  </td> <td>1.26373       </td>
        </tr>
        <tr>
            <td>79  </td> <td>1.28129       </td>
        </tr>
        <tr>
            <td>80  </td> <td>1.29209       </td>
        </tr>
        <tr>
            <td>81  </td> <td>1.32745       </td>
        </tr>
        <tr>
            <td>82  </td> <td>1.36101       </td>
        </tr>
        <tr>
            <td>83  </td> <td>1.39749       </td>
        </tr>
        <tr>
            <td>84  </td> <td>1.44603       </td>
        </tr>
        <tr>
            <td>85  </td> <td>1.48588       </td>
        </tr>
        <tr>
            <td>86  </td> <td>1.53967       </td>
        </tr>
        <tr>
            <td>87  </td> <td>1.59775       </td>
        </tr>
        <tr>
            <td>88  </td> <td>1.66125       </td>
        </tr>
        <tr>
            <td>89  </td> <td>1.73365       </td>
        </tr>
        <tr>
            <td>90  </td> <td>1.80539       </td>
        </tr>
        <tr>
            <td>91  </td> <td>1.90275       </td>
        </tr>
        <tr>
            <td>92  </td> <td>1.99252       </td>
        </tr>
        <tr>
            <td>93  </td> <td>2.10192       </td>
        </tr>
        <tr>
            <td>94  </td> <td>2.2271        </td>
        </tr>
        <tr>
            <td>95  </td> <td>2.34042       </td>
        </tr>
        <tr>
            <td>96  </td> <td>2.41969       </td>
        </tr>
        <tr>
            <td>97  </td> <td>2.5868        </td>
        </tr>
        <tr>
            <td>98  </td> <td>2.65926       </td>
        </tr>
        <tr>
            <td>99  </td> <td>2.91367       </td>
        </tr>
        <tr>
            <td>100 </td> <td>3.27411       </td>
        </tr>
    </tbody>
</table></div></div>
</div>
<p>Not only are all of these ratios greater than 1, signifying more women than men in all of these age groups, many of them are considerably greater than 1.</p>
<ul class="simple">
<li><p>At ages 92 and 93 the ratios are close to 2, meaning that there were about twice as many women as men at those ages in 2019.</p></li>
<li><p>At ages 99 there were about 3 times as many women as men.</p></li>
</ul>
<p>If you are wondering how many people there were at these advanced ages, you can use Python to find out:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">males</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="s1">&#39;AGE&#39;</span><span class="p">,</span> <span class="n">are</span><span class="o">.</span><span class="n">contained_in</span><span class="p">(</span><span class="n">make_array</span><span class="p">(</span><span class="mi">92</span><span class="p">,</span> <span class="mi">93</span><span class="p">,</span> <span class="mi">99</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table border="1" class="dataframe">
    <thead>
        <tr>
            <th>SEX</th> <th>AGE</th> <th>2019</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>1   </td> <td>92  </td> <td>131684</td>
        </tr>
        <tr>
            <td>1   </td> <td>93  </td> <td>103415</td>
        </tr>
        <tr>
            <td>1   </td> <td>99  </td> <td>14596 </td>
        </tr>
    </tbody>
</table></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">females</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="s1">&#39;AGE&#39;</span><span class="p">,</span> <span class="n">are</span><span class="o">.</span><span class="n">contained_in</span><span class="p">(</span><span class="n">make_array</span><span class="p">(</span><span class="mi">92</span><span class="p">,</span> <span class="mi">93</span><span class="p">,</span> <span class="mi">99</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table border="1" class="dataframe">
    <thead>
        <tr>
            <th>SEX</th> <th>AGE</th> <th>2019</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>2   </td> <td>92  </td> <td>262383</td>
        </tr>
        <tr>
            <td>2   </td> <td>93  </td> <td>217370</td>
        </tr>
        <tr>
            <td>2   </td> <td>99  </td> <td>42528 </td>
        </tr>
    </tbody>
</table></div></div>
</div>
<p>The graph below shows sex ratios plotted against age. The blue curve shows the 2019 ratios by age.</p>
<p>The ratios are almost 1 (signifying close to equal numbers of males and females) for ages 0 through 60. But they start shooting up dramatically (more females than males) starting in the 65 to 70 range.</p>
<p>That females outnumber males in the U.S. is partly due to the marked imbalance in favor of women among senior citizens.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ratios</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;AGE&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../../_images/Example_Sex_Ratios_32_0.png" src="../../../_images/Example_Sex_Ratios_32_0.png" />
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./chapters/06/4"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Gary Lupyan<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>